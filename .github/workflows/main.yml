# ========================================
# EXEMPLE 4 : MULTI-OS (Multi-Plateformes)
# ========================================
# Ce workflow teste votre code sur PLUSIEURS
# syst√®mes d'exploitation en m√™me temps

name: 04 - Multi OS

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  # ================
  # Test sur Ubuntu (Linux)
  # ================
  test-ubuntu:
    runs-on: ubuntu-latest

    steps:
      - name: Test sur Ubuntu
        run: |
          echo "üêß Test sur Linux Ubuntu"
          echo "Syst√®me : $(uname -s)"
          echo "Version : $(uname -r)"

  # ================
  # Test sur Windows
  # ================
  test-windows:
    runs-on: windows-latest

    steps:
      - name: Test sur Windows
        # Sur Windows, on utilise PowerShell
        run: |
          echo "ü™ü Test sur Windows"
          echo "Syst√®me : $env:OS"

  # ================
  # Test sur MacOS
  # ================
  test-macos:
    runs-on: macos-latest

    steps:
      - name: Test sur MacOS
        run: |
          echo "üçé Test sur MacOS"
          echo "Syst√®me : $(uname -s)"

  # ================
  # M√âTHODE AVANC√âE : Matrix Strategy
  # ================
  # Cette m√©thode permet de tester sur plusieurs OS
  # avec un seul job (plus efficace !)
  test-matrix:
    # D√©finir une matrice de syst√®mes d'exploitation
    strategy:
      matrix:
        # Liste des OS √† tester
        os: [ubuntu-latest, windows-latest, macos-latest]

    # Utiliser la variable de la matrice
    runs-on: ${{ matrix.os }}

    steps:
      - name: Test sur ${{ matrix.os }}
        run: |
          echo "üîß Test sur ${{ matrix.os }}"
          echo "Ceci s'ex√©cute sur chaque OS !"

# ASTUCE : La matrix strategy est plus efficace et facile √† maintenir !
